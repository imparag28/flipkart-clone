<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles/header.css">

</head>

<style>


    #imagediv>img {
        width: 100%;
        height: 600px;

    }

    #container {
        display: flex;

    }

    #sidebar {
        flex: 2;
        border: 1px solid black;
        height: 800px;
       
    }

    #main {
        flex: 7;
        /* border: 1px solid black; */
        
    }

    #content {
        display: flex;
        justify-content: space-evenly;
        /* border: 1px solid black; */
        margin-bottom: 50px;
        box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;

    }

    /* #content img {
        width: 200px;   
        height: 300px;
    }

   */

    #infodiv {
        width: 50%;
    }
</style>


<body>

    <header></header>


    <div id="imagediv">
        <img src="https://www.whirlpoolindia.com/media/wysiwyg/Ref_Category_Banner__1920x650_Final.jpg" alt="">
    </div>
    <div id="container">

        <div id="sidebar">



            <h3>SORT BY PRICE</h3>
            <input type="radio" id="asc" name="sort" value="asc">
            <label for="asc">HIGH TO LOW</label> <br>
            <input type="radio" id="dsc" name="sort" value="dsc">
            <label for="dsc">LOW TO HIGH</label>


            <h3>BRAND</h3>
            <input type="radio" id="samsung" name="brand" >
            <label for="samsung">SAMSUNG</label> <br>
            <input type="radio" id="ge" name="brand" >
            <label for="ge">GE</label> <br>
            <input type="radio" id="whirlpool" name="brand" >
            <label for="whirlpool">WHIRLPOOL</label> <br>
            <input type="radio" id="Fri" name="brand">
            <label for="Fri">FRIGIDAIRE</label> <br>

        </div>
        <div id="main">

            <!-- <div id="content">
                <img src="" alt="">
                <div id="infodiv">
                    <h1></h1>
                    <p></p>
                </div>
                <div id="pricediv">
                    <h3></h3>
                    <p></p>
                </div>
            </div> -->

        </div>

    </div>


    <footer></footer>



</body>

</html>
<script type="module">

    import { header, footer } from "./components/header.js"

    import { getproduct, appenddata } from "./scripts/data.js"

    document.querySelector("header").innerHTML = header()

    document.querySelector("footer").innerHTML = footer()

    let main = document.querySelector('#main')
    

    const api1 = ` http://localhost:3030/products?$limit=15?&name[$like]=*refrigerator*&description[$like]=**`
    const api2 = `http://localhost:3030/products?$limit=15?&name[$like]=*refrigerator*&$sort[price]=-1`
    const api3 = `http://localhost:3030/products?$limit=15?&name[$like]=*refrigerator*&$sort[price]=1`
    const api4 = `http://localhost:3030/products?$limit=15?&manufacturer[$like]=*samsung*&name[$like]=*refrigerator*&$sort[price]=-1`
    const api5 = `http://localhost:3030/products?$limit=15?&manufacturer[$like]=*ge*&name[$like]=*refrigerator*&$sort[price]=-1`
    const api6 = `http://localhost:3030/products?$limit=15?&manufacturer[$like]=*whirlpool*&name[$like]=*refrigerator*&$sort[price]=-1`
    const api7 = `http://localhost:3030/products?$limit=15?&manufacturer[$like]=*Frigidaire*&name[$like]=*refrigerator*&$sort[price]=-1`


    async function getdata(api) {


        try {
            let res = await getproduct(api)
            console.log(res.data)
            appenddata(res.data, main)
        }
        catch (er) {
            console.log(er)
        }

    }

    getdata(api1)

    let asc = document.querySelector('#asc')
    let dsc = document.querySelector('#dsc')
    let samsung = document.querySelector('#samsung')
    let ge= document.querySelector('#ge')
    let whirlpool = document.querySelector('#whirlpool')
    let Fri = document.querySelector('#Fri')




    let track = () => {
        if (asc.checked == true) {
            getdata(api2)
        }
    }


    let track2 = () => {
        if (dsc.checked == true) {
            getdata(api3)
        }
    }

    let brand = () => {
        if (samsung.checked == true) {
            getdata(api4)
        }
    }

    let brand2 = () => {
        if (ge.checked == true) {
            getdata(api5)
        }
    }


    let brand3 = () => {
        if (whirlpool.checked == true) {
            getdata(api6)
        }
    }
    let brand4 = () => {
        if (Fri.checked == true) {
                getdata(api7)
        }
    }


    asc.addEventListener('change', track)
    dsc.addEventListener('change', track2)
    samsung.addEventListener('change', brand)
    ge.addEventListener('change', brand2)
    whirlpool.addEventListener('change', brand3)
    Fri.addEventListener('change', brand4)
</script>